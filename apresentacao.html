<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados - Testes de Performance K6</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        .summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 40px;
            background: #f8f9fa;
        }
        .summary-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        .summary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0,0,0,0.15);
        }
        .summary-card .number {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
            margin: 10px 0;
        }
        .summary-card .label {
            color: #666;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        .content {
            padding: 40px;
        }
        .test-section {
            margin-bottom: 40px;
            border-left: 4px solid #667eea;
            padding-left: 20px;
        }
        .test-section h2 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.8em;
        }
        .test-section h3 {
            color: #764ba2;
            margin: 15px 0 10px 0;
        }
        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .metric-box {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 3px solid #667eea;
        }
        .metric-box .metric-label {
            font-size: 0.85em;
            color: #666;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        .metric-box .metric-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #333;
            margin-top: 5px;
        }
        .status-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: bold;
            margin-top: 10px;
        }
        .status-success {
            background: #d4edda;
            color: #155724;
        }
        .chart-container {
            margin: 30px 0;
            padding: 20px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        th {
            background: #667eea;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
        }
        tr:hover {
            background: #f8f9fa;
        }
        .conclusion {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            margin-top: 40px;
            border-radius: 15px;
        }
        .conclusion h2 {
            margin-bottom: 20px;
        }
        .conclusion ul {
            list-style: none;
            padding-left: 0;
        }
        .conclusion li {
            padding: 10px 0;
            padding-left: 30px;
            position: relative;
        }
        .conclusion li:before {
            content: "‚úì";
            position: absolute;
            left: 0;
            font-weight: bold;
            font-size: 1.2em;
        }
        .footer {
            text-align: center;
            padding: 30px;
            background: #f8f9fa;
            color: #666;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üìä Resultados dos Testes de Performance</h1>
            <p>Avalia√ß√£o completa da API usando k6</p>
            <p style="font-size: 0.9em; margin-top: 10px;">19 de novembro de 2025</p>
        </div>

        <div class="summary">
            <div class="summary-card">
                <div class="label">Total de Testes</div>
                <div class="number">5</div>
            </div>
            <div class="summary-card">
                <div class="label">Requisi√ß√µes Total</div>
                <div class="number">21.225</div>
            </div>
            <div class="summary-card">
                <div class="label">Taxa de Sucesso</div>
                <div class="number">100%</div>
            </div>
            <div class="summary-card">
                <div class="label">Lat√™ncia M√©dia</div>
                <div class="number">1.35ms</div>
            </div>
        </div>

        <div class="content">
            <h2 style="text-align: center; color: #667eea; margin-bottom: 30px;">An√°lise por Tipo de Teste</h2>

            <!-- Smoke Test -->
            <div class="test-section">
                <h2>üîç 1. Smoke Test (Teste de Fuma√ßa)</h2>
                <p><strong>Objetivo:</strong> Verificar funcionalidade b√°sica sob carga m√≠nima</p>
                <p><strong>Configura√ß√£o:</strong> 5 VUs por 20 segundos</p>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia M√©dia</div>
                        <div class="metric-value">1.93 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia p(95)</div>
                        <div class="metric-value">4.82 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Taxa de Falha</div>
                        <div class="metric-value">0.00%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Total Requisi√ß√µes</div>
                        <div class="metric-value">100</div>
                    </div>
                </div>
                <span class="status-badge status-success">‚úì PASSOU</span>
            </div>

            <!-- Load Test -->
            <div class="test-section">
                <h2>üìà 2. Load Test (Teste de Carga)</h2>
                <p><strong>Objetivo:</strong> Avaliar comportamento sob carga esperada</p>
                <p><strong>Configura√ß√£o:</strong> Ramp-up at√© 50 VUs durante 2 minutos</p>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia M√©dia</div>
                        <div class="metric-value">1.04 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia p(95)</div>
                        <div class="metric-value">1.95 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Taxa de Falha</div>
                        <div class="metric-value">0.00%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Total Requisi√ß√µes</div>
                        <div class="metric-value">2.853</div>
                    </div>
                </div>
                <span class="status-badge status-success">‚úì EXCELENTE</span>
            </div>

            <!-- Stress Test -->
            <div class="test-section">
                <h2>üí™ 3. Stress Test (Teste de Estresse)</h2>
                <p><strong>Objetivo:</strong> Determinar limites do sistema</p>
                <p><strong>Configura√ß√£o:</strong> Ramp-up progressivo at√© 200 VUs durante 2min30s</p>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia M√©dia</div>
                        <div class="metric-value">1.04 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia p(95)</div>
                        <div class="metric-value">2.08 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Taxa de Falha</div>
                        <div class="metric-value">0.00%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Total Requisi√ß√µes</div>
                        <div class="metric-value">11.450</div>
                    </div>
                </div>
                <span class="status-badge status-success">‚úì SUPORTA AT√â 200 USU√ÅRIOS</span>
            </div>

            <!-- Spike Test -->
            <div class="test-section">
                <h2>‚ö° 4. Spike Test (Teste de Pico)</h2>
                <p><strong>Objetivo:</strong> Avaliar rea√ß√£o a picos s√∫bitos de tr√°fego</p>
                <p><strong>Configura√ß√£o:</strong> Pico de 5 ‚Üí 200 VUs em 10 segundos</p>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia M√©dia</div>
                        <div class="metric-value" style="color: #28a745;">0.81 ms ‚≠ê</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia p(95)</div>
                        <div class="metric-value" style="color: #28a745;">1.48 ms ‚≠ê</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Taxa de Falha</div>
                        <div class="metric-value">0.00%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Total Requisi√ß√µes</div>
                        <div class="metric-value">3.222</div>
                    </div>
                </div>
                <span class="status-badge status-success">‚úì MELHOR LAT√äNCIA</span>
            </div>

            <!-- Soak Test -->
            <div class="test-section">
                <h2>‚è±Ô∏è 5. Soak Test (Teste de Resist√™ncia)</h2>
                <p><strong>Objetivo:</strong> Verificar estabilidade por per√≠odo prolongado</p>
                <p><strong>Configura√ß√£o:</strong> 20 VUs constantes durante 3 minutos</p>
                
                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia M√©dia</div>
                        <div class="metric-value">1.94 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Lat√™ncia p(95)</div>
                        <div class="metric-value">4.69 ms</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Taxa de Falha</div>
                        <div class="metric-value">0.00%</div>
                    </div>
                    <div class="metric-box">
                        <div class="metric-label">Total Requisi√ß√µes</div>
                        <div class="metric-value">3.600</div>
                    </div>
                </div>
                <span class="status-badge status-success">‚úì EST√ÅVEL</span>
            </div>

            <!-- Gr√°fico de Lat√™ncia -->
            <div class="chart-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">Compara√ß√£o de Lat√™ncia por Teste</h3>
                <canvas id="latencyChart"></canvas>
            </div>

            <!-- Gr√°fico de Volume -->
            <div class="chart-container">
                <h3 style="text-align: center; color: #667eea; margin-bottom: 20px;">Volume de Requisi√ß√µes por Teste</h3>
                <canvas id="volumeChart"></canvas>
            </div>

            <!-- Tabela Comparativa -->
            <h3 style="text-align: center; color: #667eea; margin: 40px 0 20px 0;">Tabela Comparativa Completa</h3>
            <table>
                <thead>
                    <tr>
                        <th>Teste</th>
                        <th>Lat√™ncia M√©dia</th>
                        <th>Lat√™ncia p(95)</th>
                        <th>Taxa de Falha</th>
                        <th>Total Requisi√ß√µes</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Smoke</strong></td>
                        <td>1.93 ms</td>
                        <td>4.82 ms</td>
                        <td>0.00%</td>
                        <td>100</td>
                        <td>‚úÖ Passou</td>
                    </tr>
                    <tr>
                        <td><strong>Load</strong></td>
                        <td>1.04 ms</td>
                        <td>1.95 ms</td>
                        <td>0.00%</td>
                        <td>2.853</td>
                        <td>‚úÖ Excelente</td>
                    </tr>
                    <tr>
                        <td><strong>Stress</strong></td>
                        <td>1.04 ms</td>
                        <td>2.08 ms</td>
                        <td>0.00%</td>
                        <td>11.450</td>
                        <td>‚úÖ Suporta 200 VUs</td>
                    </tr>
                    <tr style="background: #e8f5e9;">
                        <td><strong>Spike ‚≠ê</strong></td>
                        <td><strong>0.81 ms</strong></td>
                        <td><strong>1.48 ms</strong></td>
                        <td>0.00%</td>
                        <td>3.222</td>
                        <td>‚úÖ Melhor Lat√™ncia</td>
                    </tr>
                    <tr>
                        <td><strong>Soak</strong></td>
                        <td>1.94 ms</td>
                        <td>4.69 ms</td>
                        <td>0.00%</td>
                        <td>3.600</td>
                        <td>‚úÖ Est√°vel</td>
                    </tr>
                </tbody>
            </table>

            <!-- Conclus√µes -->
            <div class="conclusion">
                <h2>üéØ Conclus√µes e Recomenda√ß√µes</h2>
                <h3 style="margin-top: 20px;">Pontos Fortes:</h3>
                <ul>
                    <li>Zero falhas em todas as 21.225 requisi√ß√µes realizadas</li>
                    <li>Lat√™ncia consistente abaixo de 5ms no p(95) em todos os cen√°rios</li>
                    <li>Excelente escalabilidade at√© 200 usu√°rios simult√¢neos</li>
                    <li>Recupera√ß√£o r√°pida ap√≥s picos de tr√°fego</li>
                    <li>Estabilidade comprovada em teste de longa dura√ß√£o</li>
                </ul>

                <h3 style="margin-top: 20px;">Capacidade do Sistema:</h3>
                <ul>
                    <li>Usu√°rios simult√¢neos suportados: 200+ VUs</li>
                    <li>Taxa de processamento m√°xima: ~76 requisi√ß√µes/segundo</li>
                    <li>Lat√™ncia m√©dia esperada em produ√ß√£o: < 2ms</li>
                    <li>Lat√™ncia p(95) esperada em produ√ß√£o: < 5ms</li>
                </ul>

                <h3 style="margin-top: 20px;">Recomenda√ß√µes:</h3>
                <ul>
                    <li>Sistema est√° pronto para ambiente de produ√ß√£o</li>
                    <li>Monitorar m√©tricas de lat√™ncia em produ√ß√£o</li>
                    <li>Implementar cache para volumes acima de 100 req/s</li>
                    <li>Considerar load balancer para mais de 200 usu√°rios simult√¢neos</li>
                    <li>Usar servidor WSGI em produ√ß√£o (Gunicorn/uWSGI)</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <p><strong>API Testada:</strong> GET /sum?a=1&b=2</p>
            <p><strong>Ferramenta:</strong> k6 (Grafana) | <strong>Stack:</strong> Flask (Python)</p>
            <p><strong>Ambiente:</strong> Dev Container (Ubuntu 24.04)</p>
            <p style="margin-top: 10px;">Documento gerado automaticamente em 19/11/2025</p>
        </div>
    </div>

    <script>
        // Gr√°fico de Lat√™ncia
        const ctxLatency = document.getElementById('latencyChart').getContext('2d');
        new Chart(ctxLatency, {
            type: 'bar',
            data: {
                labels: ['Smoke', 'Load', 'Stress', 'Spike', 'Soak'],
                datasets: [{
                    label: 'Lat√™ncia M√©dia (ms)',
                    data: [1.93, 1.04, 1.04, 0.81, 1.94],
                    backgroundColor: 'rgba(102, 126, 234, 0.8)',
                    borderColor: 'rgba(102, 126, 234, 1)',
                    borderWidth: 2
                }, {
                    label: 'Lat√™ncia p(95) (ms)',
                    data: [4.82, 1.95, 2.08, 1.48, 4.69],
                    backgroundColor: 'rgba(118, 75, 162, 0.8)',
                    borderColor: 'rgba(118, 75, 162, 1)',
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'top',
                    },
                    title: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Lat√™ncia (ms)'
                        }
                    }
                }
            }
        });

        // Gr√°fico de Volume
        const ctxVolume = document.getElementById('volumeChart').getContext('2d');
        new Chart(ctxVolume, {
            type: 'bar',
            data: {
                labels: ['Smoke', 'Load', 'Stress', 'Spike', 'Soak'],
                datasets: [{
                    label: 'Total de Requisi√ß√µes',
                    data: [100, 2853, 11450, 3222, 3600],
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.8)',
                        'rgba(54, 162, 235, 0.8)',
                        'rgba(255, 206, 86, 0.8)',
                        'rgba(75, 192, 192, 0.8)',
                        'rgba(153, 102, 255, 0.8)'
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        'rgba(153, 102, 255, 1)'
                    ],
                    borderWidth: 2
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        display: false
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'N√∫mero de Requisi√ß√µes'
                        }
                    }
                }
            }
        });
    </script>
</body>
</html>
